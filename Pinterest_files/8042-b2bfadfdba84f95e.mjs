(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8042],{746377:(e,t,i)=>{var o={"./":[554053,9],"./CZ":[338969,9,38969],"./CZ.tsx":[338969,9,38969],"./DA":[999991,9,99991],"./DA.tsx":[999991,9,99991],"./DE":[775930,9,75930],"./DE.tsx":[775930,9,75930],"./ENUK":[683171,9,83171],"./ENUK.tsx":[683171,9,83171],"./ENUS":[531742,9,31742],"./ENUS.tsx":[531742,9,31742],"./ESAR":[497171,9,97171],"./ESAR.tsx":[497171,9,97171],"./ESES":[529528,9,29528],"./ESES.tsx":[529528,9,29528],"./ESMX":[827141,9,27141],"./ESMX.tsx":[827141,9,27141],"./FI":[515911,9,15911],"./FI.tsx":[515911,9,15911],"./FR":[677095,9,77095],"./FR.tsx":[677095,9,77095],"./GR":[312106,9,12106],"./GR.tsx":[312106,9,12106],"./HI":[403893,9,3893],"./HI.tsx":[403893,9,3893],"./HU":[102771,9,2771],"./HU.tsx":[102771,9,2771],"./ID":[207063,9,7063],"./ID.tsx":[207063,9,7063],"./IT":[386099,9,86099],"./IT.tsx":[386099,9,86099],"./JP":[46685,9,46685],"./JP.tsx":[46685,9,46685],"./KR":[740400,9,40400],"./KR.tsx":[740400,9,40400],"./MS":[549425,9,49425],"./MS.tsx":[549425,9,49425],"./NL":[24587,9,24587],"./NL.tsx":[24587,9,24587],"./NO":[450944,9,50944],"./NO.tsx":[450944,9,50944],"./PL":[954012,9,54012],"./PL.tsx":[954012,9,54012],"./PTBR":[635057,9,35057],"./PTBR.tsx":[635057,9,35057],"./PTPT":[94619,9,94619],"./PTPT.tsx":[94619,9,94619],"./RO":[326169,9,26169],"./RO.tsx":[326169,9,26169],"./RU":[816635,9,16635],"./RU.tsx":[816635,9,16635],"./SK":[203980,9,3980],"./SK.tsx":[203980,9,3980],"./SV":[523295,9,23295],"./SV.tsx":[523295,9,23295],"./TH":[458418,9,58418],"./TH.tsx":[458418,9,58418],"./TL":[278849,9,78849],"./TL.tsx":[278849,9,78849],"./TR":[447044,9,47044],"./TR.tsx":[447044,9,47044],"./UA":[681236,9,81236],"./UA.tsx":[681236,9,81236],"./VT":[44734,9,44734],"./VT.tsx":[44734,9,44734],"./ZHCN":[742142,9,42142],"./ZHCN.tsx":[742142,9,42142],"./ZHTW":[904959,9,4959],"./ZHTW.tsx":[904959,9,4959],"./index":[554053,9],"./index.tsx":[554053,9],"./localeToFilename":[970415,9],"./localeToFilename.ts":[970415,9],"./types":[696851,7,96851],"./types.ts":[696851,7,96851]};function n(e){if(!i.o(o,e))return Promise.resolve().then(()=>{var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=o[e],n=t[0];return Promise.all(t.slice(2).map(i.e)).then(()=>i.t(n,16|t[1]))}n.keys=()=>Object.keys(o),n.id=746377,e.exports=n},892254:(e,t,i)=>{"use strict";i.d(t,{$:()=>d,r:()=>h});var o=i(667294),n=i(342513),s=i(321329),r=i(5859),l=i(494125),a=i(785893);let{Provider:c,useHook:d}=(0,n.Z)("PinRep");function h({children:e}){let{isAuthenticated:t}=(0,r.B)(),[i,n]=(0,o.useState)(!0),[d,h]=(0,o.useState)(!1),u=(0,s.Z)(1000069);(0,l.Z)(()=>{(async()=>{if(!t){n(!1);return}let e=await u.fetchAllExperiences();e&&e.payload&&e.payload.experiences?.[1000069]?.experience_id===500417&&e.payload.experiences?.[1000069]?.display_data.hide_footer?u.viewExperience(1000069,500417):n(!1),h(!0)})()});let p=(0,o.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:d,hidePinRepFooter:i}),[d,i]);return(0,a.jsx)(c,{value:p,children:e})}},200154:(e,t,i)=>{"use strict";i.d(t,{H$:()=>x,MY:()=>g,ZP:()=>f});var o=i(667294),n=i(883119),s=i(140017),r=i(339001),l=i(785893);function a({shouldBlock:e,updateShouldBlock:t,user:i}){let o=(0,s.ZP)(),{fullName:a,username:c}=i,d=a?`${a} (${c})`:c;return(0,l.jsxs)(n.xu,{paddingY:3,children:[(0,l.jsx)(n.xv,{size:"100",children:(0,r.nk)(o._('Block {{ name }}', 'reportModal.detailPage.userBlockSwitch.heading', 'Block a user heading, name:Display name of user to be blocked'),{name:d})}),(0,l.jsxs)(n.xu,{direction:"row",display:"flex",paddingY:2,children:[(0,l.jsx)(n.xu,{marginEnd:2,children:(0,l.jsx)(n.XZ,{checked:e,id:"blockUser",onChange:t})}),(0,l.jsx)(n.xu,{children:(0,l.jsx)(n.xv,{size:"300",children:(0,r.nk)(o._('If you block {{ nameLink }}, both of you can still view each other\'s profiles, but you can\'t message each other, follow or save each other\'s Pins.', 'reportModal.detailPage.userBlockSwitch.blockingExplanation', 'Explanation of blocking a user, nameLink:Display name of user to be blocked with a link to their profile'),{nameLink:(0,l.jsx)(n.xv,{inline:!0,size:"300",weight:"bold",children:(0,l.jsx)(n.rU,{display:"inlineBlock",href:`/${c}`,onClick:({dangerouslyDisableOnNavigation:e})=>e(),target:"blank",underline:"hover",children:d},"blockUserLink")})})})})]})]})}let c={listStyleType:"disc",marginLeft:"18px",fontSize:"16px"};function d({objectToReport:e,selectedReason:t,shouldBlockUser:i,renderVideoReasonDetailPage:o,updateShouldBlockUser:s}){let{detail_page_removal_examples:r,detail_page_removal_example_header:d,detail_page_non_removal_examples:h,detail_page_non_removal_example_header:u,detail_page_additional_text:p}=t;return(0,l.jsxs)(n.xu,{paddingX:8,children:[(0,l.jsxs)(n.xu,{paddingY:3,children:[(0,l.jsx)(n.xv,{size:"100",children:d}),r.length>0&&(0,l.jsx)(n.xu,{paddingY:2,children:(0,l.jsx)("ul",{children:r.map((e,t)=>(0,l.jsx)("li",{style:c,children:(0,l.jsx)(n.xv,{size:"300",children:e})},`removals-${t}`))})})]}),h.length>0&&(0,l.jsxs)(n.xu,{paddingY:3,children:[(0,l.jsx)(n.xv,{size:"100",children:u}),(0,l.jsx)(n.xu,{paddingY:2,children:(0,l.jsx)("ul",{children:h.map((e,t)=>(0,l.jsx)("li",{style:c,children:(0,l.jsx)(n.xv,{size:"300",children:e})},`removals-${t}`))})})]}),p&&(0,l.jsx)(n.xu,{paddingY:3,children:(0,l.jsx)(n.xv,{size:"300",children:p})}),o&&o(),"conversation"===e.type&&s&&e.userToBlock&&(0,l.jsx)(a,{shouldBlock:!!i,updateShouldBlock:s,user:{username:e.userToBlock.username,fullName:e.userToBlock.fullName}})]})}var h=i(214877);function u({isSelectionStep:e,hasTimestampErrors:t,selectedReason:i,handleSubmitReport:o,onDismiss:r,step:a,shouldBlockUser:c,objectToReport:d,setStep:u}){let p=(0,s.ZP)(),{logContextEvent:_}=(0,h.v)(),m=({component:e,element:t,event:i})=>{d&&_({event_type:i,component:e,element:t,object_id_str:d.id,view_parameter:d.viewParameter||void 0,view_type:d.viewType||void 0})},f=e=>{d.type===x.PIN&&m({event:59,element:e.element_type}),window.open(e.open_web_url,"_blank"),r()},b=e=>()=>{e!==g&&m({event:101,component:13179,...i?{element:i.element_type}:{}}),u(e)},y=e&&!i?.key||!e&&t,v=!(!1===a&&i?.secondary_reasons&&i.secondary_reasons.length>0),P=e?p._('Next', 'ReportModal.nextButton', 'Button to progress to next screen in report flow'):p._('Report', 'ReportModal.submitButton', 'Button text to submit a report'),w=e?b(!1):()=>{i&&o({reasonKey:i.key,selectedReason:i,shouldBlockUser:c})};i?.open_web_url&&(w=()=>f(i));let j=e?p._('Cancel', 'ReportModal.cancelButton', 'Cancel button'):p._('Back', 'ReportModal.backButton', 'Back button'),A=e?r:b(!0);return(0,l.jsxs)(n.xu,{direction:"row",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,l.jsx)(n.xu,{paddingX:1,children:(0,l.jsx)(n.xu,{"data-test-id":"report-pin-back-button",children:(0,l.jsx)(n.zx,{onClick:A,size:"lg",text:j})})}),v&&(0,l.jsx)(n.xu,{paddingX:1,children:(0,l.jsx)(n.xu,{"data-test-id":"report-pin-submit-button",children:(0,l.jsx)(n.zx,{color:"red",disabled:y??!1,onClick:w,size:"lg",text:P})})})]})}var p=i(577530);function _({handleSelectedReason:e,reason:t,reportingReasons:i}){let o=(0,s.ZP)();return(0,l.jsx)(n.xu,{paddingX:4,paddingY:2,children:(0,l.jsx)(n.FX,{id:"select-reporting-reason",legend:o._('Select reporting reason', 'select_reporting_reason.legend', 'Description of Reporting reason'),legendDisplay:"hidden",children:i.map(i=>(0,l.jsx)(n.xu,{direction:"row",display:"flex",paddingX:4,children:(0,l.jsx)(n.xu,{"data-test-id":`report-pin-reason-${i.key}`,children:(0,l.jsx)(n.FX.RadioButton,{checked:i.key===t,helperText:i.secondary_text||"",id:i.key,label:i.primary_text||"",name:"reportPinOptions",onChange:()=>e(i),value:i.key})})},`Option-${i.key}`))})})}var m=i(930837);let g=!0,x={BOARD:"board",PIN:"pin",USER:"user",CONVERSATION:"conversation"};function f({onDismiss:e,handleSubmitReport:t,hasTimestampErrors:i,objectToReport:r,renderVideoReasonDetailPage:a,reportingReasons:c}){let h=(0,s.ZP)(),[f,b]=(0,o.useState)(null),[y,v]=(0,o.useState)(!1),[P,w]=(0,o.useState)(g),j=e=>{b(e)},A=()=>{if(P!==g&&f?.detail_page_header_text)return f.detail_page_header_text;switch(r.type){case x.PIN:return h._('Report Pin', 'pinReporting.heading', 'Modal heading for report pin flow');case x.USER:return h._('Report account', 'accountReporting.heading', 'Modal heading for report account flow');case x.CONVERSATION:return h._('Report conversation', 'conversationReporting.heading', 'Modal heading for report conversation flow');case x.BOARD:return h._('Report board', 'boardReporting.heading', 'Modal heading for board report flow');default:return""}};return c?(0,l.jsx)(m.ZP,{accessibilityModalLabel:A(),footer:c&&(0,l.jsx)(u,{handleSubmitReport:t,hasTimestampErrors:i,isSelectionStep:P===g,objectToReport:r,onDismiss:e,selectedReason:f,setStep:w,shouldBlockUser:y,step:P}),heading:A(),onDismiss:e,children:(0,l.jsxs)(n.xu,{children:[P===g&&(0,l.jsx)(_,{handleSelectedReason:j,reason:f?.key,reportingReasons:c}),P!==g&&f?.secondary_reasons&&f.secondary_reasons.length>0?(0,l.jsx)(p.Z,{onChange:j,secondaryReasons:f.secondary_reasons}):P!==g&&f&&(0,l.jsx)(d,{objectToReport:r,renderVideoReasonDetailPage:a,selectedReason:f,shouldBlockUser:y,updateShouldBlockUser:()=>{r.userToBlock&&v(!y)}})]})}):(0,l.jsx)(n.$j,{accessibilityLabel:h._('Loading pin report modal', 'pinReporting.spinner', 'Accessibility label for spinner shown while reasons are loading'),show:!0})}},577530:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var o=i(883119),n=i(140017),s=i(785893);function r({onChange:e,secondaryReasons:t}){let i=(0,n.ZP)();return(0,s.jsx)(o.xu,{children:t.map(t=>(0,s.jsx)(o.iP,{onTap:()=>t.open_web_url?window.open(t.open_web_url,"_blank"):e(t),children:(0,s.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",paddingY:3,children:[(0,s.jsx)(o.xu,{paddingX:8,children:(0,s.jsx)(o.xv,{children:t.primary_text})}),(0,s.jsx)(o.xu,{paddingX:8,children:t.open_web_url?(0,s.jsx)(o.JO,{accessibilityLabel:i._('Visit for more information', 'pinReporting.secondaryReason.outsideLink.icon', 'Visit outside link for more information'),color:"default",icon:"arrow-up-right"}):(0,s.jsx)(o.JO,{accessibilityLabel:i._('Select this reason', 'pinReporting.secondaryReason.modalPageLink.icon', 'Choose this reason'),color:"default",icon:"arrow-forward"})})]})},t.key))})}},302607:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var o=i(454514),n=i(140017),s=i(13848),r=i(785893);function l(){let e=(0,n.ZP)(),{showToast:t}=(0,s.F9)();return{showErrorToast:()=>{t(({hideToast:t})=>(0,r.jsx)(o.ZP,{onHide:t,text:e._('Something went wrong.', 'fetchReportingReasons.Toast.Unsuccessful', 'Toast after fetching reporting reasons is unsuccessful')}))},showSuccessToast:()=>{t(({hideToast:t})=>(0,r.jsx)(o.ZP,{onHide:t,text:e._('Thanks! Your feedback helps us improve Pinterest.', 'userReporting.handleSubmitReport.toast', 'toast after reporting a user successfully')}))}}}},693323:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let o="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function n({window:e,duration:t,run:i}){let n=o(),s=0,r=null,l=()=>{let a=o()-n,c=a-s;if(t===1/0)i(0,a,c);else{let e=a/t;if(e>=1){i(1,a,c);return}i(e,a,c)}s=a,r=e.requestAnimationFrame(l)};return{start:()=>{r=e.requestAnimationFrame(l)},cancel:()=>{r&&(e.cancelAnimationFrame(r),r=null)}}}},776569:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var o=i(667294),n=i(883119),s=i(693323),r=i(55202),l=i(983983),a=i(785893);function c(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends o.Component{constructor(...e){super(...e),c(this,"state",{visible:!1}),c(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),c(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,s.Z)({window,duration:1/0,run:(e,i,o)=>{window.scrollTo(0,window.scrollY+(i<500?.8:1.2000000000000002)*t*o)}}),this.scrollAnimationManager.start()}}),c(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:i}=this.state;return(0,a.jsx)(n.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:16777271,visibility:i?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,a.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function h({noStickyHeader:e}){let t=e?0:l.hu;return(0,a.jsx)(r.Z,{children:(0,a.jsx)(n.mh,{children:(0,a.jsxs)(n.xu,{children:[(0,a.jsx)(d,{height:120+t,placement:"top"}),(0,a.jsx)(d,{height:120,placement:"bottom"})]})})})}},718545:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c,y:()=>l});var o=i(667294),n=i(60598),s=i(14890),r=i(785893);let l={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem"};class a extends o.Component{render(){let{children:e,connectDragSource:t,connectDropTarget:i,isDragging:o,isDraggingInternal:n,isDropTargetOnly:s}=this.props,l=i((0,r.jsx)("div",{ref:e=>this.targetEl=e,style:{opacity:o||n?0:1},children:e}));return s?l:t(l)}}let c=(0,s.compose)((0,n.GR)(e=>e.type,{hover:({index:e,onDragHover:t},i,o)=>{t(e,function(e,t){let i=t.targetEl;if(!(i&&i instanceof HTMLElement))return null;let{x:o,y:n}=e.getClientOffset(),{left:s,right:r,top:l,bottom:a,width:c,height:d}=i.getBoundingClientRect();return{positionRelativeToCenter:{x:o-(s+r)/2,y:n-(l+a)/2},boundingBox:{width:c,height:d}}}(i,o))}},e=>({connectDropTarget:e.dropTarget()})),(0,n.Ej)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.isDragging()})))(a)},853703:(e,t,i)=>{"use strict";function o(e,t){return e.itemIndex===t.itemIndex&&e.regionWithinItem===t.regionWithinItem}function n({hoverRelativePosition:{positionRelativeToCenter:{x:e},boundingBox:{width:t}},centerEnabled:i}){return Math.abs(e)<(i?.5*t:0)/2?"center":e<0?"left":"right"}function s({hoverLocation:{itemIndex:e,regionWithinItem:t},sourceIndex:i}){if("center"===t||e===i)return e;let o="left"===t;return e<i===o?e:o?e-1:e+1}i.d(t,{Lz:()=>o,TI:()=>n,X3:()=>s})},507584:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var o=i(60598),n=i(14890),s=i(187958);let r=e=>t=>(0,n.compose)(s.Z,(0,o.GR)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},726528:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var o=i(401429),n=i(667294),s=i(883119),r=i(76561),l=i(785893);let a=new s.Ry(669),c={1:"up",2:"right",3:"down",4:"left"},d=({anchors:e={},complete:t,dismiss:i,displayData:o,idealDirection:d,onCompleteByAnchor:h={},platform:u,positionRelativeToAnchor:p=!0,touchToDismiss:_=!0,useMasonryFlyout:m=!1})=>{let{anchors_by_platform:g={},button_text:x,button_uri:f,display_type:b,flyout_direction:y,scroll_to_dismiss:v,scroll_to_dismiss_delay_in_seconds:P=0,text:w}=o||{},j=g[u]?.anchor,A=e[j],S=(0,n.useCallback)(()=>{v&&(window.removeEventListener("scroll",S),window.removeEventListener("touchmove",S)),_&&A&&A.removeEventListener("click",S),setTimeout(()=>i(),1e3*P)},[A]);if((0,n.useEffect)(()=>{A&&(v&&(window.addEventListener("scroll",S),window.addEventListener("touchmove",S)),_&&A.addEventListener("click",S))},[A]),!A)return null;let T=({children:e})=>{if(m)return(0,l.jsx)(s.mh,{zIndex:a,children:e});if(2!==b)return(0,l.jsx)(s.xu,{zIndex:a,children:e});{let t={};if(p)t.top=A.offsetTop,t.left=A.offsetLeft,t.width=A.offsetWidth,t.height=A.offsetHeight;else{let e=A.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,l.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:t},left:!0,position:"absolute",top:!0,zIndex:a,children:e})}},z=c[y],E=f&&(f.startsWith("https://")||f.startsWith("http://")),R=(h||{})[j],k=()=>{v&&(window.removeEventListener("scroll",S),window.removeEventListener("touchmove",S)),_&&A.removeEventListener("click",S),t()};return(0,l.jsxs)(n.Fragment,{children:[2===b&&(0,l.jsx)(T,{children:(0,l.jsx)(r.Z,{anchor:A,onTouch:()=>{k(),R?R():A instanceof HTMLElement&&A.click()},zIndex:670})}),1===b&&(0,l.jsx)(T,{children:(0,l.jsx)(s.J2,{_deprecatedShowCaret:!0,anchor:A,color:"deprecatedBlue",idealDirection:z||d||"down",onDismiss:S,positionRelativeToAnchor:!m&&p,shouldFocus:!1,size:"md",children:(0,l.jsxs)(s.xu,{padding:4,width:"220px",children:[(0,l.jsx)(s.xv,{align:"center",color:"inverse",weight:"bold",children:w}),x?(0,l.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,l.jsx)(s.xu,{column:8,children:f?(0,l.jsx)(s.ZP,{color:"white",fullWidth:!0,href:f,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),k()},size:"md",target:E?"blank":null,text:x}):(0,l.jsx)(s.zx,{color:"white",fullWidth:!0,onClick:k,size:"md",text:x})})}):null]})})})]})};var h=i(554786);let u=({anchors:e,idealDirection:t,onCompleteByAnchor:i,placementId:n,positionRelativeToAnchor:s,touchToDismiss:r,useMasonryFlyout:a})=>{let c=(0,h.ml)();return(0,l.jsx)(o.Z,{placementId:n,predicate:t=>{let{display_data:i}=t;if(i?.component_type===2){let{anchors_by_platform:t}=i;if(t?.web){let{anchor:i,placement:o}=t.web;return o===n&&i in e}}return!1},children:({complete:o,dismiss:n,experience:h})=>(0,l.jsx)(d,{anchors:e,complete:o,dismiss:n,displayData:h.display_data,idealDirection:t,onCompleteByAnchor:i,platform:c?"web_mobile":"web",positionRelativeToAnchor:s,touchToDismiss:r,useMasonryFlyout:a})})}},321329:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var o=i(667294),n=i(703404),s=i(839391),r=i(5859);function l(e){let{mountedPlacements:t,completeExperience:i,dismissExperience:l,experiences:a,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:h,triggerExperimentsForPlacement:u,viewExperience:p}=(0,s.Z)(),{isBot:_}=(0,r.B)(),m=e&&!_?(0,n.MQ)(a,t,e):null;return(0,o.useMemo)(()=>({completeExperience:i,dismissExperience:l,experienceForPlacement:m,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:h,triggerExperimentsForPlacement:u,viewExperience:p}),[i,l,m,c,d,h,u,p])}},970521:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var o=i(667294),n=i(545007),s=i(105737),r=i(25919),l=i(703404),a=i(839391),c=i(5859),d=i(785893);function h(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u={dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},p=(e,t={},i)=>p=>{let _=function(e,t,i=!0,u=!1,p){class _ extends o.Component{constructor(e){super(e),h(this,"state",{extraContext:void 0}),h(this,"setExtraContextState",e=>{(0,s.ZP)(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(i,o){let{dispatch:n,experience:l,requestContext:a}=this.props,c=o.extraContext,d=this.state.extraContext||t||{};"function"==typeof t&&(c=t(i,o.extraContext||{}),d=t(this.props,this.state.extraContext||{})),d&&Object.keys(d).length>0&&!(0,s.ZP)(c,d)&&n((0,r.pz)([e],a.isBot,d)),l&&(!i.experience||l.id!==i.experience.id)&&n((0,r.kd)(e,d))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){let i="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},o=u&&i?.advertiser_id?{advertiserId:i.advertiser_id}:void 0;this.props.mountPlacement(e,i,o)}render(){let{experience:e,experiencesMulti:t}=this.props,i={[u?"advertiserExperience":"experience"]:(0,l.E3)(e)?e:null};return(0,d.jsx)(p,{...this.props,setPlacementExtraContext:this.setExtraContextState,...i,experiencesMulti:t})}}function m(e){let t=(0,c.B)(),i=(0,n.I0)(),{mountPlacement:o,unmountPlacement:s}=(0,a.Z)();return(0,d.jsx)(_,{...e,dispatch:i,mountPlacement:o,requestContext:t,unmountPlacement:s})}return m.displayName=`withPlacement(${p.displayName||p.name||"Component"})`,m}(e,t,(i={...u,...i}).dispatchMountActionDuringSSR,i.isAdvertiserPlacement,p),m=t=>{let i=(0,n.v9)(t=>t.experiences[e]),o=(0,n.v9)(t=>t.experiencesMulti?t.experiencesMulti[e]:void 0);return(0,d.jsx)(_,{...t,experience:i,experiencesMulti:o})};return m.displayName=_.displayName,m}},466385:(e,t,i)=>{"use strict";function o(e,t,i){let o=[...e],n=o.splice(t,1)[0];return o.splice(i,0,n),o}i.d(t,{Z:()=>o})},489093:(e,t,i)=>{"use strict";i.d(t,{a:()=>u,S:()=>d});var o=i(667294),n=i(342513),s=i(372085);let r={boardMap:{}};function l(e=r,t){if("BLOCKING_ACTIONS_UPDATED"===t.type){let{payload:{boardId:i,blockingActions:o}}=t,n=null,s=null,r={};return o.forEach(({section_id:e,progress:t,id:i,created_timestamp:o})=>{let l={id:i,createdAt:o,progress:t};e?"-1"===e?n=l:r[e]=l:s=l}),{...e,boardMap:{...e.boardMap,[i]:{wholeBoard:n,unorganized:s,sectionMap:r}}}}return e}var a=i(785893);let{Provider:c,useMaybeHook:d}=(0,n.Z)("BlockingAction");async function h(e){let t=await (0,s.Z)({url:`/v3/boards/${e}/`,data:{fields:["board.id","board.blocking_actions"]}});return new Promise((e,i)=>{let o=t&&t.resource_response&&t.resource_response.data&&t.resource_response.data.blocking_actions;if(!o){i(Error("No blocking actions found in the response"));return}e(o)})}function u({children:e}){let[t,i]=(0,o.useReducer)(l,r),n=(0,o.useCallback)(e=>h(e).then(t=>(i({type:"BLOCKING_ACTIONS_UPDATED",payload:{boardId:e,blockingActions:t}}),t)),[]),s=(0,o.useMemo)(()=>({blockingActions:t,fetchBlockingActions:n}),[t,n]);return(0,a.jsx)(c,{value:s,children:e})}},828763:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var o=i(13848),n=i(489093),s=i(667294),r=i(883119),l=i(454514),a=i(140017),c=i(554786),d=i(785893);function h(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends s.Component{constructor(...e){super(...e),h(this,"state",{hiding:!1,visible:!1}),h(this,"handleHide",()=>{this.setState({hiding:!0}),this.timeout=window.setTimeout(this.props.onHide,l.Vg)}),h(this,"handleMouseEnter",()=>{window.clearTimeout(this.timeout)}),h(this,"handleMouseLeave",()=>{this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3)})}componentDidMount(){this.firstLine&&(window.setTimeout(()=>{this.setState({visible:!0})},100),this.timeout=window.setTimeout(this.handleHide,this.props.duration||2e3))}get firstLine(){let{actionType:e,actionStatus:t,location:{isSection:i}}=this.props,o="completed"===t;switch(e){case"create_section":return o?this.props.i18n._('Created section', 'toast text to indicate a section has been created successfully', 'toast text to indicate a section has been created successfully'):this.props.i18n._('Creating section', 'toast text to indicate a section is being created', 'toast text to indicate a section is being created');case"delete_pins":if(i)return o?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a section', 'toast text to notify Pins have been deleted from a section'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a section', 'toast text to notify Pins are being deleted from a section');return o?this.props.i18n._('Deleted Pins from', 'toast text to notify Pins have been deleted from a board', 'toast text to notify Pins have been deleted from a board'):this.props.i18n._('Deleting Pins from', 'toast text to notify Pins are being deleted from a board', 'toast text to notify Pins are being deleted from a board');case"move_pins":if(i)return o?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this section', 'toast text to notify pins have been moved to this section'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this section', 'toast text to notify pins are being moved to this section');return o?this.props.i18n._('Moved to', 'toast text to notify pins have been moved to this board', 'toast text to notify pins have been moved to this board'):this.props.i18n._('Moving to', 'toast text to notify pins are being moved to this board', 'toast text to notify pins are being moved to this board');case"merge":if(i)return o?this.props.i18n._('Moved to', 'toast text to notify anotehr section has been merged to this section', 'toast text to notify anotehr section has been merged to this section'):this.props.i18n._('Moving to', 'toast text to notify another section is being merged to this section', 'toast text to notify another section is being merged to this section');return o?this.props.i18n._('Moved to', 'toast text to notify another board has been merged to this board', 'toast text to notify another board has been merged to this board'):this.props.i18n._('Moving to', 'toast text to notify another board is being merged to this board', 'toast text to notify another board is being merged to this board');default:return null}}render(){let{actionStatus:e,deviceType:t,location:i}=this.props,{visible:o,hiding:n}=this.state,{firstLine:s}=this,{marginTop:a,opacity:c,position:h,pointerEvents:u,transform:p,transition:_,visibility:m}=(0,l.UZ)({deviceType:t,hiding:n,visible:o});if(!s)return null;let g="inProgress"===e?`${i.name}...`:i.name;return(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{transform:p,transition:_,visibility:m,pointerEvents:u}},marginTop:a,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,opacity:c,position:h,children:(0,d.jsx)(r.FN,{text:`${s}: ${g}`,type:"completed"===e?"default":"progress"})})}}function p(e){let t=(0,c.ZP)(),i=(0,a.ZP)();return(0,d.jsx)(u,{...e,deviceType:t,i18n:i})}let _=["merge","move_pins","create_section"],m=0,g={},x=(e,t,i,o)=>({hideToast:n})=>(0,d.jsx)(p,{actionStatus:e,actionType:t,duration:2e3,location:{name:o?o.title??"":i.name??"",isSection:!!o},onHide:n});function f(){let{showToast:e}=(0,o.F9)(),{fetchBlockingActions:t}=(0,n.S)()??{fetchBlockingActions:e=>new Promise(e=>e([]))};return{showBlockingActionToast:({actionType:i,board:o,section:n})=>{e(x("inProgress",i,o,n)),function({check:e,checkDelay:t,checkInterval:i,onComplete:o}){let n=`timeout${m}`;m+=1;let s=()=>{let t=Date.now();e().then(e=>{let r=Date.now()-t;e?(o(),delete g[n]):g[n]=setTimeout(s,Math.max(1e3,i-r))}).catch(()=>{delete g[n]})};g[n]=setTimeout(s,t)}({check:()=>t(o.id).then(e=>!function({blockingActions:e,actionType:t,boardId:i,sectionId:o}){return e.find(e=>(function(e){switch(e){case 22:return"delete_board";case 7172:case 7173:return"merge";case 900:case 7158:case 7109:return"delete_pins";case 901:case 7108:return"move_pins";case 7100:return"create_section";case 7102:return"delete_section";default:return null}})(e.action_type)===t&&!(_.includes(e.action_type)&&e.is_origin)&&e.board_id===i&&(o?o===e.section_id:!e.section_id||"-1"===e.section_id)&&1!==e.progress)}({blockingActions:e,actionType:i,boardId:o.id,sectionId:n&&n.id})),checkDelay:2e3,checkInterval:5e3,onComplete:()=>e(x("completed",i,o,n))})}}}},623501:(e,t,i)=>{"use strict";i.d(t,{HW:()=>r,YW:()=>h,i3:()=>u,o2:()=>d});var o=i(667294),n=i(342513),s=i(785893);let r=660,l={educationId:null,paddingRight:0,zIndex:660};function a(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:o}=t.payload;return{...e,paddingRight:o};case"FOOTER_SET_Z_INDEX":let{zIndex:n}=t.payload;return{...e,zIndex:n};default:return e}}let{Provider:c,Consumer:d,useHook:h}=(0,n.Z)("footerContext");function u({children:e}){let[t,i]=(0,o.useReducer)(a,l),n=(0,o.useCallback)(e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),r=(0,o.useCallback)(e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),d=(0,o.useCallback)(e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),h=(0,o.useMemo)(()=>({...t,setEducationId:r,setPaddingRight:n,setZIndex:d}),[t,r,n,d]);return(0,s.jsx)(c,{value:h,children:e})}},554053:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var o=i(667294),n=i(883119),s=i(140017),r=i(5859),l=i(14583),a=i(970415),c=i(785893);function d({height:e,onCtaDidLoad:t,width:d}){let h=(0,s.ZP)(),[u,p]=(0,o.useState)(null),{locale:_}=(0,r.B)(),m=(0,a.default)(_),g=e=>{p((0,o.lazy)(()=>i(746377)(`./${e}`)))};(0,o.useEffect)(()=>{m&&"none"!==m&&g(m)},[m]),(0,o.useEffect)(()=>{u&&t()},[u]);let x=h._('Open Pinterest app, then go to the search tab, then tap the camera icon located in the search bar to scan the Pincode', 'PincodeCTA.instruction', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label'),f=(0,c.jsx)(n.xv,{align:"center",children:x});return"none"===m?f:u?(0,c.jsx)(l.Z,{fallback:f,children:(0,c.jsx)(u,{height:e,title:x,width:d})}):(0,c.jsx)(n.$j,{accessibilityLabel:h._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},970415:(e,t,i)=>{"use strict";function o(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":case"ES-419":return"ESMX";case"ES-AR":return"ESAR";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}i.r(t),i.d(t,{default:()=>o})},364778:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>A});var o,n,s=i(667294),r=i(883119),l=i(214877),a=i(140017);function c(e){return new Promise((t,i)=>{let o=new XMLHttpRequest;o.ontimeout=i,o.onreadystatechange=()=>{if(4!==o.readyState)return;if(200!==o.status){i();return}let e=new FileReader;e.onloadend=()=>{let{result:o}=e;"string"==typeof o?t(o.split(/,/)[1]):i()},e.readAsDataURL(o.response)},o.open("GET",e,!0),o.timeout=3e4,o.responseType="blob",o.send()})}function d(e,t){return new Promise((i,o)=>{let n=document.createElement("div");n.innerHTML=e.innerHTML,(function e(t,i){return t instanceof Element?t instanceof window.SVGImageElement?function(e,t){let i=e.href.baseVal;if(i.startsWith("data:"))return Promise.resolve();let o=t?t(i):i;return Promise.resolve(o).then(c).then(e=>`data:${function(e){let t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(o)};base64,${e}`).then(t=>new Promise((i,o)=>{e.onerror=o,e.href.baseVal=t,window.requestAnimationFrame(i)}))}(t,i):Promise.all(Array.from(t.childNodes).map(t=>e(t,i))):Promise.resolve(t)})(n,t).then(()=>{let t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>i(t))},t.onerror=o;let s=n&&n.querySelector("svg");s&&(/^[0-9]+$/.test(s.getAttribute("width")||"")||s.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(s.getAttribute("height")||"")||s.setAttribute("height",`${e.scrollHeight}`));let r=n.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(r.trim())}`})})}var h=i(554053),u=i(785893);function p({getThumbnailImageSrcSet:e,images:t,onTouch:i}){let o=(0,a.ZP)();return(0,u.jsx)(r.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,n)=>(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.st,{children:(0,u.jsx)(r.iP,{fullWidth:!1,onTap:()=>i("logo"===t?"logo":n-1),rounding:2,children:(0,u.jsx)(r.zd,{height:85,rounding:"circle",width:85,children:"logo"===t?(0,u.jsx)(r.JO,{accessibilityLabel:"Pinterest logo",color:"brandPrimary",icon:"pinterest",size:85}):(0,u.jsx)(r.Ee,{alt:o._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url??"",srcSet:e&&e(t.url??"")})})})})},"logo"===t?t:t.url))})}var _=i(757640);let m=i(876594).x_d,g=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
  <svg xmlns="http://www.w3.org/2000/svg" width="222" height="${o||222}" x="0" y="${n||0}" viewBox="0 0 222 222">
    <path d="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z" fill="${m}" fill-rule="evenodd" />
  </svg>`.trim())}`;function x(e,t,i){return`
    <image id="image"
      x="${100+("right"===t?300:0)}"
      y="${100+("bottom"===i?300:0)}"
      width="${600/("row"===t?1:2)}"
      height="${600/("column"===i?1:2)}"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      xlink:href="${e}"
      preserveAspectRatio="xMidYMid slice"
    />`}class f extends s.Component{constructor(...e){var t,i,o;super(...e),t="handleFetchChange",i=()=>{let{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){let{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){let{className:e,imageUrls:t,size:i,pincodeImageResource:{data:o,isLoaded:n}}=this.props;return(0,u.jsxs)(r.kC,{alignItems:"center",height:i,justifyContent:"center",width:i,children:[n&&!!o&&(0,u.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:function(e,t){let i=function(e){switch(e.length){case 0:case 1:return;case 2:return[x(e[0],"left","column"),x(e[1],"right","column")].join("");case 3:return[x(e[0],"left","column"),x(e[1],"right","top"),x(e[2],"right","bottom")].join("");default:return[x(e[0],"left","top"),x(e[1],"right","top"),x(e[2],"left","bottom"),x(e[3],"right","bottom")].join("")}}(t);return i?e.replace(/<image[^>]*>/,i):e}(o,t)},style:{width:i,height:i}}),(0,u.jsx)(r.$j,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!o})]})}}function b(e){let t=(0,a.ZP)(),i=(0,_.Z)({name:"ApiResource",options:{url:"/v3/pincode/image/",data:{object_id:e.id,hero_image_url:e.imageUrls[0]||g}}});return(0,u.jsx)(f,{...e,i18n:t,pincodeImageResource:i})}function y(e,t,i){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:String(o))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let v="pincodeMain",P="pincodeCTA",w=(e,t)=>{let i=document.createElement("canvas");i.width=3544,i.height=3544;let o=Math.round(.1*i.width),n=Math.round(.05*i.width),s=i.width-2*o,r=i.width-2*n,l=i.height-s,[a,c]=t.width/t.height>r/l?[r,r/t.width*t.height]:[l/t.height*t.width,l],d=i.getContext("2d");return d.fillStyle="#fff",d.fillRect(0,0,i.width,i.height),d.drawImage(e,o,0,s,s),d.drawImage(t,(i.width-a)/2,s+(i.height-s-c)/2,a,c),i};class j extends s.PureComponent{constructor(...e){super(...e),y(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),y(this,"getCustomHeroImages",()=>{let{images:e,customizable:t}=this.props,{pickedImageIndex:i}=this.state;if(!t)return e;let o="logo"!==i&&e[i];return o?[o]:[]}),y(this,"normalizeUrl",e=>{let{getMainImageURL:t}=this.props;return(t||(e=>e))(e).replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")}),y(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),y(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),y(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),y(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),y(this,"downloadPincodeImage",()=>{let{previewNode:e}=this,{ctaIsLoaded:t,isFetchingPincodeImage:i,isDownloading:o}=this.state;if(!e||!t||i||o)return;let n=e.querySelector(`.${v}`),s=e.querySelector(`.${P}`);if(!n||!s)return;let{getDownloadImageURL:r,id:l,logContextEvent:a}=this.props;a({event_type:7078,component:13141,object_id_str:l}),this.setState({isDownloading:!0}),Promise.all([d(n,r),d(s)]).then(e=>{let[t,i]=e;return w(t,i)}).then(e=>{var t;return t=`pincode_${this.props.id}.png`,new Promise((i,o)=>{new Promise((t,i)=>{if(e.toBlob){e.toBlob(t);return}let o="";try{o=e.toDataURL("image/png")}catch(e){i()}let n=window.atob(o.split(",")[1]),{length:s}=n,r=new Uint8Array(s);for(let e=0;e<s;e+=1)r[e]=n.charCodeAt(e);t(new window.Blob([r],{type:"image/png"}))}).then(e=>window.URL.createObjectURL(e)).then(e=>{let o=document.createElement("a");o.download=t,o.href=e,o.style.display="none",window.document.body.appendChild(o),window.requestAnimationFrame(()=>{let t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),o.removeAttribute("href"),o.removeEventListener("click",t),window.document.body.removeChild(o),i()})};o.addEventListener("click",t),o.click()})}).catch(o)})}).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){let{id:e,isLoadingImages:t,images:i,getThumbnailImageSrcSet:o,customizable:n}=this.props,{ctaIsLoaded:s,errorFlyoutIsOpen:l,isFetchingPincodeImage:a,isDownloading:c,isPickingHeroImage:d}=this.state;return d?(0,u.jsx)(r.xu,{color:"default",padding:4,rounding:2,width:350,children:(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(r.xu,{paddingY:1,children:(0,u.jsx)(r.X6,{lineClamp:1,size:"500",children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,u.jsx)(r.iz,{}),(0,u.jsx)(p,{getThumbnailImageSrcSet:o,images:i,onTouch:this.handleSelectImage}),(0,u.jsx)(r.xu,{padding:1,children:(0,u.jsx)(r.zx,{fullWidth:!0,onClick:this.handleCancelButtonClick,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker')})})]})}):(0,u.jsx)(r.xu,{color:"default",marginBottom:4,paddingX:4,rounding:2,width:350,children:(0,u.jsxs)(r.xu,{children:[(0,u.jsx)(r.xu,{ref:e=>{this.previewNode=e},children:(0,u.jsxs)(r.xu,{alignItems:"center",color:"default",direction:"column",display:"flex",height:320,justifyContent:"center",width:"100%",children:[t?(0,u.jsx)(r.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,u.jsx)(r.$j,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,u.jsx)(b,{className:v,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url??"")),onFetchingChange:this.handleFetchChange,size:230}),(0,u.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:7,marginTop:2,children:(0,u.jsx)("div",{className:P,children:(0,u.jsx)(h.default,{height:78,onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300})})})]})}),(0,u.jsxs)(r.xu,{marginTop:2,padding:1,children:[n&&i.length>0&&(0,u.jsx)(r.xu,{paddingY:1,children:(0,u.jsx)(r.zx,{fullWidth:!0,onClick:this.handleEditButtonClick,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image')})}),s&&(0,u.jsxs)(r.xu,{paddingY:1,children:[(0,u.jsx)(r.xu,{ref:e=>{this.downloadButton=e},children:(0,u.jsx)(r.zx,{color:"red",disabled:t||a||c,fullWidth:!0,onClick:this.downloadPincodeImage,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image')})}),l&&(0,u.jsx)(r.J2,{anchor:this.downloadButton,idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),shouldFocus:!1,size:"sm",children:(0,u.jsx)(r.xu,{padding:3,children:(0,u.jsx)(r.qb,{title:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported'),type:"problem"})})})]})]})]})})}}function A(e){let{logContextEvent:t}=(0,l.v)(),i=(0,a.ZP)();return(0,u.jsx)(j,{...e,i18n:i,logContextEvent:t})}},219728:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var o=i(667294),n=i(883119),s=i(214877),r=i(930837),l=i(140017),a=i(785893);function c({children:e,objectId:t,onHide:i}){let{logContextEvent:c}=(0,s.v)(),d=(0,l.ZP)(),h={component:13141,object_id_str:t};return(0,o.useEffect)(()=>{c({event_type:6359})},[t]),(0,a.jsx)(r.ZP,{accessibilityModalLabel:d._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:d._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{i(),c({event_type:6358,...h})},size:"sm",children:(0,a.jsx)(n.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},898233:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var o=i(667294),n=i(883119),s=i(510989),r=i(140017),l=i(608516),a=i(785893);let c=(0,o.lazy)(()=>Promise.all([i.e(87348),i.e(38700),i.e(61116)]).then(i.bind(i,797228)));function d(e){let t=(0,r.ZP)();return(0,a.jsx)(s.Z,{name:"SafeSuspense_SendObjectLoader_SendObjectWrapper",children:(0,a.jsx)(l.Z,{fallback:(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,width:"100%",children:(0,a.jsx)(n.$j,{accessibilityLabel:t._('Loading sharing', 'Accessibility label for loading sharing UI', 'Accessibility label for loading sharing UI'),show:!0})}),children:(0,a.jsx)(c,{...e})})})}},261328:(e,t,i)=>{"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,o)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){!function(e,t,i){var n;n=function(e,t){if("object"!=o(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=o(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(n)?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}i.d(t,{Z:()=>s})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/8042-b2bfadfdba84f95e.mjs.map